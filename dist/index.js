(()=>{"use strict";var e={385:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),n.hash&&(e+=n.hash),n.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},993:(e,n,t)=>{e.exports=t.p+"assets/style.css"}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var c=n[a]={exports:{}};return e[a](c,c.exports,t),c.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,(()=>{var e=t(385),n=t.n(e),a=new URL(t(993),t.b);n()(a);class r{createMain(){const e=document.createElement("main");return e.classList.add("container"),e}createHeader(){const e=document.createElement("header");return e.classList.add("header"),e.innerHTML='\n      <header class="header">\n        <button class="btn togarage">🚘 To Garage</button>\n        <button class="btn towinners">🏆 To Winners</button>\n      </header>\n    ',e}createGenerator(){const e=document.createElement("section");return e.classList.add("generator"),e.innerHTML='\n      <section class="generator">\n        <div class="generator-create">\n          <input \n            type="text" \n            class="generator-text"\n            id="create-name"\n            required\n          >\n          <input \n            type="color" \n            class="generator-color"\n            id="create-color"\n            value="#00eedd"\n          >\n          <button class="btn create" type="submit">🆕 Create</button>\n        </div>\n        <div class="generator-update">\n          <input \n            type="text" \n            class="generator-text"\n            id="update-name"\n            required\n          >\n          <input \n            type="color" \n            class="generator-color"\n            id="update-color"\n            value="#00eedd"\n          >\n          <button class="btn update">🔄 Update</button>\n        </div>\n      </section>\n    ',e}createGarage(e){const n=document.createElement("section");n.classList.add("garage");let t="";const a=e.length;return e.forEach((e=>{t+=this.createCar(e.name,e.color,e.id)})),n.innerHTML=`\n    <h1 class="garage-header-cars-counter">Garage (${a} cars)</h2>\n    <p class="garage-header-page-counter">Page #</p>\n    <ul class="garage-list">\n      ${t}\n    </ul>\n    `,n}createCar(e,n,t){const a=`\n    <li class="garage-list-item">\n      <div class="garage-list-item-header">\n        <button class="btn select" id="select-${t}">👇🏻 Select</button>\n        <button class="btn remove" id="remove-${t}">🗑️ Remove</button>\n        <span class="garage-list-item-car-name">${e}</span>\n      </div>\n      <div class="garage-list-item-race">\n        <button class="btn start" id="start-${t}}">🔑</button>\n        <button class="btn stop" id="stop-${t}}">⛔</button>\n        <div class="garage-list-item-car-image" id="car-image-${t}">\n          ${(e=>`\n  <svg version="1.1" id="car-image" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 100 100"\n    xml:space="preserve">\n    <path\n      d="M66 47.5c-.4-.5-5.1 0-5.7 0H22.9c-1.8 0-4.9.6-6.5 0 .8-2.5 3.4-3.9 5.7-5 6.5-3.1 13.3-5.7 20.3-7.6 10-2.8 16.1 2 22.5 11.1l1.1 1.5z"\n      fill="${e}" />\n    <path\n      d="M62.3 46.2c-5.6-7.9-10.9-12.1-19.6-9.7-1.5.4-3 .9-4.5 1.4-.9.3-1.5 1.1-1.5 2l-.3 5.2c-.1 1.3 1 2.4 2.3 2.4h19.7c.5 0 4.7-.4 5 0l-1.1-1.3z"\n      fill="#333" />\n    <path\n      d="M25 43.2c-1.6.8-3.4 1.7-4.4 3.1-.4.6 0 1.4.7 1.4 1.4.1 3.1-.2 4.3-.2h8c.5 0 .9-.4.9-.9l.4-6.3c0-.7-.6-1.1-1.2-.9-3 1.2-5.9 2.4-8.7 3.8z"\n      fill="#333" />\n    <path\n      d="M89.4 54.1c-2.3-3.5-5.9-6.2-9.8-7.6-1.2-.4-2.5-.8-3.8-.9-11.8-.6-23.9 0-35.7 0h-23c-3 0-5.6 2.2-6.1 5.1 0 .1-.1.2-.1.3l-.5 3.8-.8 3.4c0 2.2 1.8 4 4 4H62.7c5.6 0 11.2.2 16.8 0 .6 0 1.2 0 1.8-.1 1.1 0 2.2-.1 3.2-.1 2.1-.1 6.5-.1 6.8-3 .1-.9-.2-1.8-.6-2.6-.4-.8-.8-1.6-1.3-2.3z"\n      fill="${e}" />\n    <path d="M14.2 50.7H11c-.2 0-.3.1-.3.3l-.4 3.3c0 .2.1.5.3.5h3.6c.9 0 1.6-.8 1.6-1.8v-.5c-.1-1-.8-1.8-1.6-1.8z"\n      fill="#343434" />\n    <path d="M87.9 51c-.2-.2-.5-.4-.8-.4h-3c-.8 0-1.4.5-1.4 1.1v1.5c0 .8.8 1.6 1.8 1.6h5c.6 0 .7-.5.4-1l-2-2.8z"\n      fill="#e0e0e0" />\n    <path d="M90.3 57.8H9.6s-.4 0-.4.4c0 2.4 1.7 4 4.1 4h77c1.2 0 2.2-1 2.2-2.2 0-1.2-1-2.2-2.2-2.2z" fill="#f8b26a" />\n    <g>\n      <circle cx="25.3" cy="57.2" r="7.3" fill="#fff" />\n      <path\n        d="M25.3 51.3c3.2 0 5.8 2.6 5.8 5.8S28.5 63 25.3 63s-5.8-2.6-5.8-5.8 2.6-5.9 5.8-5.9m0-3c-4.9 0-8.8 3.9-8.8 8.8s3.9 8.8 8.8 8.8 8.8-3.9 8.8-8.8-4-8.8-8.8-8.8z"\n        fill="#333" />\n    </g>\n    <g>\n      <circle cx="25.3" cy="57.2" r="4" fill="#e6e6e6" />\n    </g>\n    <g>\n      <circle cx="71.9" cy="57.2" r="7.3" fill="#fff" />\n      <path\n        d="M71.9 51.3c3.2 0 5.8 2.6 5.8 5.8S75.1 63 71.9 63s-5.8-2.6-5.8-5.8 2.6-5.9 5.8-5.9m0-3c-4.9 0-8.8 3.9-8.8 8.8s3.9 8.8 8.8 8.8 8.8-3.9 8.8-8.8-3.9-8.8-8.8-8.8z"\n        fill="#333" />\n    </g>\n    <g>\n      <circle cx="71.9" cy="57.2" r="4" fill="#e6e6e6" />\n    </g>\n    <path d="M59.1 55.9H41c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h18c.8 0 1.5.7 1.5 1.5.1.8-.6 1.5-1.4 1.5z"\n      fill="#343434" />\n    <path d="M17 43l-7.2-.7c-1.1-.1-2-1-2.1-2.2l-.1-1.5c-.1-1 .9-1.8 1.9-1.5l10.2 3.3c0 1.5-1.3 2.7-2.7 2.6z"\n      fill=""${e}" />\n    <path fill=""${e}" d="M18.7 46.2l-2.9 2.5-4.9-8.1 1.9-1.6z" />\n  </svg>\n`)(n)}\n        </div>\n        <div class="garage-list-item-finish id="finish-${t}">\n          \n  <svg version="1.1" id="finish-image" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n  viewBox="0 0 297 297" xml:space="preserve">\n    <g>\n    <g>\n    <g>\n      <path style="fill:#5E4534;" d="M175.786,251.417L175.786,251.417c3.124-0.962,4.877-4.274,3.915-7.398l-36.002-116.962\n        l-11.313,3.482l36.002,116.962C169.35,250.626,172.662,252.379,175.786,251.417z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M118.513,45.319c8.387,27.249,16.775,54.497,25.162,81.746\n        c-6.833,4.931-14.185,8.175-21.853,10.394L96.66,55.713C104.327,53.494,111.68,50.25,118.513,45.319z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M72.411,60.002c8.268-0.827,16.423-2.024,24.249-4.289l25.162,81.746\n        c-7.826,2.265-15.98,3.462-24.249,4.289L72.411,60.002z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M47.48,62.076c8.28-0.788,16.662-1.247,24.931-2.073l25.162,81.746\n        c-8.268,0.827-16.65,1.286-24.931,2.073L47.48,62.076z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M22.683,66.261c8.007-2.235,16.349-3.381,24.797-4.185l25.162,81.746\n        c-8.448,0.804-16.79,1.95-24.797,4.185L22.683,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M22.683,66.261l25.162,81.746c-7.967,2.224-15.604,5.523-22.683,10.631\n        C16.775,131.389,8.387,104.14,0,76.892C7.079,71.783,14.716,68.484,22.683,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M118.513,45.319l6.291,20.436c-6.833,4.931-14.185,8.175-21.853,10.394L96.66,55.713\n        C104.327,53.494,111.68,50.25,118.513,45.319z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M72.411,60.002c8.268-0.827,16.423-2.024,24.249-4.289l6.291,20.436\n        c-7.826,2.265-15.98,3.462-24.249,4.289L72.411,60.002z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M47.48,62.076c8.28-0.788,16.662-1.247,24.931-2.073l6.291,20.436\n        c-8.268,0.827-16.65,1.286-24.931,2.073L47.48,62.076z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M22.683,66.261c8.007-2.235,16.349-3.381,24.797-4.185l6.291,20.436\n        c-8.448,0.804-16.79,1.95-24.797,4.185L22.683,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M22.683,66.261l6.291,20.436C21.006,88.921,13.37,92.22,6.291,97.328L0,76.892\n        C7.079,71.783,14.716,68.484,22.683,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M131.094,86.192l6.291,20.436c-6.833,4.931-14.185,8.175-21.853,10.394l-6.291-20.436\n        C116.908,94.367,124.261,91.123,131.094,86.192z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M84.992,100.875c8.268-0.827,16.423-2.024,24.249-4.289l6.291,20.436\n        c-7.826,2.265-15.98,3.462-24.249,4.289L84.992,100.875z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M60.061,102.948c8.28-0.788,16.662-1.247,24.931-2.073l6.291,20.436\n        c-8.268,0.827-16.65,1.286-24.931,2.073L60.061,102.948z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M35.264,107.133c8.007-2.235,16.349-3.381,24.797-4.185l6.291,20.436\n        c-8.448,0.804-16.79,1.95-24.797,4.185L35.264,107.133z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M35.264,107.133l6.291,20.436c-7.967,2.224-15.604,5.523-22.683,10.631l-6.291-20.436\n        C19.661,112.656,27.297,109.357,35.264,107.133z"/>\n    </g>\n    </g>\n    <g>\n    <g>\n      <path style="fill:#905835;" d="M121.214,251.417L121.214,251.417c-3.124-0.962-4.877-4.274-3.915-7.398l36.002-116.962\n        l11.313,3.482l-36.002,116.962C127.65,250.626,124.338,252.379,121.214,251.417z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M178.487,45.319c-8.387,27.249-16.775,54.497-25.162,81.746\n        c6.833,4.931,14.185,8.175,21.853,10.394l25.162-81.746C192.673,53.494,185.32,50.25,178.487,45.319z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M224.589,60.002c-8.268-0.827-16.423-2.024-24.249-4.289l-25.162,81.746\n        c7.826,2.265,15.98,3.462,24.249,4.289L224.589,60.002z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M249.52,62.076c-8.28-0.788-16.662-1.247-24.931-2.073l-25.162,81.746\n        c8.268,0.827,16.65,1.286,24.931,2.073L249.52,62.076z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M274.317,66.261c-8.007-2.235-16.349-3.381-24.797-4.185l-25.162,81.746\n        c8.448,0.804,16.79,1.95,24.797,4.185L274.317,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M274.317,66.261l-25.162,81.746c7.967,2.224,15.604,5.523,22.683,10.631\n        c8.387-27.249,16.775-54.497,25.162-81.746C289.921,71.783,282.284,68.484,274.317,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M178.487,45.319l-6.291,20.436c6.833,4.931,14.185,8.175,21.853,10.394l6.291-20.436\n        C192.673,53.494,185.32,50.25,178.487,45.319z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M224.589,60.002c-8.268-0.827-16.423-2.024-24.249-4.289L194.05,76.15\n        c7.826,2.265,15.98,3.462,24.249,4.289L224.589,60.002z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M249.52,62.076c-8.28-0.788-16.662-1.247-24.931-2.073l-6.291,20.436\n        c8.268,0.827,16.65,1.286,24.931,2.073L249.52,62.076z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M274.317,66.261c-8.007-2.235-16.349-3.381-24.797-4.185l-6.291,20.436\n        c8.448,0.804,16.79,1.95,24.797,4.185L274.317,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M274.317,66.261l-6.291,20.436c7.967,2.224,15.604,5.523,22.683,10.631L297,76.892\n        C289.921,71.783,282.284,68.484,274.317,66.261z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M165.906,86.192l-6.291,20.436c6.833,4.931,14.185,8.175,21.853,10.394l6.291-20.436\n        C180.092,94.367,172.739,91.123,165.906,86.192z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M212.008,100.875c-8.268-0.827-16.423-2.024-24.249-4.289l-6.291,20.436\n        c7.826,2.265,15.98,3.462,24.249,4.289L212.008,100.875z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M236.939,102.948c-8.28-0.788-16.662-1.247-24.931-2.073l-6.291,20.436\n        c8.268,0.827,16.65,1.286,24.931,2.073L236.939,102.948z"/>\n    </g>\n    <g>\n      <path style="fill:#32373B;" d="M261.736,107.133c-8.007-2.235-16.349-3.381-24.797-4.185l-6.291,20.436\n        c8.448,0.804,16.79,1.95,24.797,4.185L261.736,107.133z"/>\n    </g>\n    <g>\n      <path style="fill:#D0D5D9;" d="M261.736,107.133l-6.291,20.436c7.967,2.224,15.604,5.523,22.683,10.631l6.291-20.436\n        C277.339,112.656,269.703,109.357,261.736,107.133z"/>\n    </g>\n    </g>\n    </g>\n  </svg>\n\n        </div>\n      </div>\n    </li>\n    `;return a}addCar(e,n,t){document.querySelector(".garage-list").innerHTML+=this.createCar(e,n,t)}createControls(){const e=document.createElement("section");return e.classList.add("controls"),e.innerHTML='\n      <section class="controls">\n      <button class="btn race" id="race">🏁 Race</button>\n      <button class="btn reset" id="reset" disabled>↩️ Reset</button>\n      <button class="btn generate" id="generate">🧬 Generate</button>\n    </section>\n    ',e}}r.pagesLimit=10;const c=r;var l=function(e,n,t,a){return new(t||(t=Promise))((function(r,c){function l(e){try{i(a.next(e))}catch(e){c(e)}}function s(e){try{i(a.throw(e))}catch(e){c(e)}}function i(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,s)}i((a=a.apply(e,n||[])).next())}))};const s=class{constructor(){this.BASE_URL="http://127.0.0.1:3000"}carsGet(){return l(this,arguments,void 0,(function*(e=1,n=c.pagesLimit){return yield fetch(`${this.BASE_URL}/garage?_page=${e}&_limit=${n}`).then((e=>e.json()))}))}carGet(e){return l(this,void 0,void 0,(function*(){return yield fetch(`${this.BASE_URL}/garage/${e}`).then((e=>e.json()))}))}carPost(e,n){return l(this,void 0,void 0,(function*(){return yield fetch(`${this.BASE_URL}/garage/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:n})}).then((e=>e.json()))}))}carDelete(e){return l(this,void 0,void 0,(function*(){return yield fetch(`${this.BASE_URL}/garage/${e}`,{method:"DELETE"}).then((e=>e.json()))}))}carPut(e,n,t){return l(this,void 0,void 0,(function*(){return yield fetch(`${this.BASE_URL}/garage/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:n})}).then((e=>e.json()))}))}};var i=function(e,n,t,a){return new(t||(t=Promise))((function(r,c){function l(e){try{i(a.next(e))}catch(e){c(e)}}function s(e){try{i(a.throw(e))}catch(e){c(e)}}function i(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,s)}i((a=a.apply(e,n||[])).next())}))};const o=class{constructor(){this.api=new s,this.page=new c,this.id="",this.pageNumber=1,this.carNumber=1}createCar(e,n,t){return i(this,void 0,void 0,(function*(){const e=yield this.api.carPost(n,t);this.page.addCar(e.name,e.color,e.id),this.updateGarage()}))}updateCar(e,n,t,a){return i(this,void 0,void 0,(function*(){this.id&&(this.api.carPut(n,t,a).then((()=>{const e=document.getElementById(a),r=e.querySelector(".garage-list-item-car-name"),c=e.querySelector(".car-image-${id}");r.textContent=n,c.style.fill=t})),this.updateGarage())}))}updateGarage(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".garage-list"),n=document.querySelector(".garage-header-page-counter"),t=yield this.api.carsGet(this.pageNumber);e.innerHTML="",t.forEach((n=>{e.innerHTML+=`${this.page.createCar(n.name,n.color,n.id)}`})),n.innerHTML=`Page #${this.pageNumber}`}))}};(new class{constructor(){this.api=new s,this.page=new c,this.service=new o,this.body=document.querySelector("body")}renderGarage(){this.api.carsGet(this.service.pageNumber).then((e=>{const n=this.page.createGarage(e),t=this.page.createControls(),a=this.page.createMain();a.append(this.page.createHeader(),this.page.createGenerator(),n,t),this.body.append(a),this.startEvents()}))}startEvents(){const e=document.querySelector("#create-name"),n=document.querySelector("#create-color"),t=document.querySelector("#update-name"),a=document.querySelector("#update-color");this.body.addEventListener("click",(r=>{const c=r.target;c&&c.classList.contains("create")&&(this.service.createCar(c,e.value,n.value),this.service.updateGarage()),c&&c.classList.contains("update")&&this.service.updateCar(c,t.value,a.value,this.service.id)}))}}).renderGarage()})()})();